<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>title</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>

<h1>Meld deg på nyhetsbrev!</h1>    


<input type="text" id="name" placeholder="Navn" /> <br/>
<input type="text" id="email" placeholder="Epost" /> <br/>
    <input type="button" value="Meld på" onclick="subscribe()" />

    <script>


        async function subscribe() {

            var nameInput = document.getElementById("name").value.toString();
            var emailInput = document.getElementById("email").value.toString();


            let result = await axios.post('/api/newsletter', { name: nameInput, email: emailInput });


            console.log(result.config.data);
            console.log(result.data);

        }


        //test();

        //async function test() {
        //    var subscribe = {
        //        name: "even",
        //        email: "even@notverified.no"
        //    }

        //    var result = await axios.post('api/newsletter', subscribe);

        //    console.log(result);
        //}


    </script>

</body>
</html>
